<div class="admin-container">
  <mat-toolbar color="primary">
    <h1>{{ editMode ? 'Edit Article' : 'Create New Article' }}</h1>
  </mat-toolbar>

  <div class="content">
    <mat-card>
      <mat-card-content>
        <form [formGroup]="articleForm" (ngSubmit)="onSubmit()">
          <!-- Title Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Title</mat-label>
            <input matInput formControlName="title" placeholder="Enter article title">
            <mat-error *ngIf="articleForm.get('title')?.invalid">
              {{ getErrorMessage('title') }}
            </mat-error>
          </mat-form-field>

          <!-- Author Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Author</mat-label>
            <input matInput formControlName="author" placeholder="Enter author name">
            <mat-error *ngIf="articleForm.get('author')?.invalid">
              {{ getErrorMessage('author') }}
            </mat-error>
          </mat-form-field>

          <!-- Content Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Content</mat-label>
            <textarea 
              matInput 
              formControlName="content" 
              placeholder="Enter article content"
              rows="10"
            ></textarea>
            <mat-error *ngIf="articleForm.get('content')?.invalid">
              {{ getErrorMessage('content') }}
            </mat-error>
          </mat-form-field>

          <!-- Success Message -->
          <mat-card class="success-message" *ngIf="success">
            <mat-card-content>
              <mat-icon>check_circle</mat-icon>
              {{ success }}
            </mat-card-content>
          </mat-card>

          <!-- Error Message -->
          <mat-card class="error-message" *ngIf="error">
            <mat-card-content>
              <mat-icon>error</mat-icon>
              {{ error }}
            </mat-card-content>
          </mat-card>

          <!-- Form Actions -->
          <div class="form-actions">
            <button mat-button type="button" (click)="cancel()" [disabled]="loading">
              Cancel
            </button>
            <button 
              mat-raised-button 
              color="primary" 
              type="submit"
              [disabled]="loading || articleForm.invalid"
            >
              <mat-spinner diameter="20" *ngIf="loading"></mat-spinner>
              <span *ngIf="!loading">{{ editMode ? 'Update' : 'Create' }} Article</span>
            </button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>